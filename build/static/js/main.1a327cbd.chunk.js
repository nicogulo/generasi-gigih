(this["webpackJsonpgenerasi-gigih-homework"]=this["webpackJsonpgenerasi-gigih-homework"]||[]).push([[0],{101:function(t,e,n){},102:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),i=n(40),o=n.n(i),a=(n(94),n(30)),s=n(117),u=n(32),l=n(41),d=n(10),h=n(4),f=["playlist-modify-private","user-read-email"],p=function(){window.location="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("9958283d7e2748c08141b2c259c62826","&redirect_uri=").concat("https://spotify-dev.vercel.app/","&scope=").concat(f,"&response_type=token&show_dialog=true")},b=n(69),j=n(35),m=n(112),O=n(113),g=n(114),y=n(116),k=n(60),x=n.n(k),T=n(5),v=function(){var t=Object(d.g)(),e=Object(a.b)();return Object(c.useEffect)((function(){if(window.location.hash){var n=window.location.hash.substring(1).split("&").reduce((function(t,e){var n=e.split("="),c=Object(h.a)(n,2),r=c[0],i=c[1];return t[r]=i,t}),{}).access_token;e(Object(j.b)(n)),Object(b.b)(n).then((function(t){return e(Object(j.d)(t))})),t.push("/create-playlist")}}),[e,t]),Object(T.jsxs)(m.a,{height:"100vh",flexDirection:"column",p:10,alignItems:"center",justifyContent:"center",className:x.a["wrapper-home"],children:[Object(T.jsx)(O.a,{as:"h4",size:"2xl",children:"HEAVEN = MUSIC"}),Object(T.jsx)(g.a,{children:"Make your life better with music"}),Object(T.jsx)(g.a,{mb:5,children:"flight to the imagination and life to everything."}),Object(T.jsx)(y.a,{className:x.a["btn-login"],id:"btn-login",onClick:p,variant:"solid",width:"200px",bg:"#1db954",type:"button",children:"Please Login First"})]})},S=n(77),w=function(t){var e=Object.assign({},t);return Object(u.c)((function(t){return t.auth})).isAuthenticated?Object(T.jsx)(d.b,Object(S.a)({},e)):Object(T.jsx)(d.a,{to:"/"})},_=[{path:"/profile",exact:!0,component:Object(c.lazy)((function(){return n.e(5).then(n.bind(null,137))}))},{path:"/create-playlist",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,146))}))}],F=function(){var t=Object(u.c)((function(t){return t.auth.isAuthenticated}));return Object(T.jsx)(c.Suspense,{fallback:Object(T.jsx)("h1",{children:"Loading..."}),children:Object(T.jsx)(l.a,{children:Object(T.jsxs)(d.d,{children:[Object(T.jsx)(d.b,{exact:!0,path:"/",render:function(){return t?Object(T.jsx)(d.a,{to:"/create-playlist"}):Object(T.jsx)(v,{})}}),_.map((function(t){return Object(T.jsx)(w,{path:t.path,component:t.component},t.path)}))]})})})};n(101);var A=function(){return Object(T.jsx)(a.a,{store:u.a,children:Object(T.jsx)(s.a,{children:Object(T.jsx)(F,{})})})},z=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,144)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),i(t),o(t)}))};o.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(A,{})}),document.getElementById("root")),z()},32:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u}));var c=n(30),r=n(33),i=n(35),o=n(68),a=Object(r.a)({reducer:{auth:i.a,playlist:o.a}}),s=function(){return Object(c.b)()},u=c.c;e.a=a},35:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return u}));var c=n(33),r={isAuthenticated:!1,accessToken:"",user:null},i=Object(c.b)({name:"auth",initialState:r,reducers:{login:function(t,e){t.isAuthenticated=!0,t.accessToken=e.payload},storeUser:function(t,e){t.user=e.payload},logout:function(){return r}}}),o=i.actions,a=o.login,s=o.logout,u=o.storeUser;e.a=i.reducer},60:function(t,e,n){t.exports={"wrapper-home":"home_wrapper-home__2m2_0","btn-login":"home_btn-login__1w0Sn"}},68:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var c=n(33),r={tracks:[],selectedTracks:[],form:{title:"",description:""}},i=Object(c.b)({name:"playlist",initialState:r,reducers:{setTracks:function(t,e){t.tracks=e.payload},addSelectedTracks:function(t,e){t.selectedTracks.push(e.payload)},substractSelectedTracks:function(t,e){var n=t.selectedTracks.indexOf(e.payload);t.selectedTracks.splice(n,1)},setFormTitle:function(t,e){t.form.title=e.payload},setFormDescription:function(t,e){t.form.description=e.payload},clearForm:function(t){t.form=r.form},clearSelectedTracks:function(t){t.selectedTracks=[]},clearState:function(){return r}}}),o=i.actions,a=o.setTracks;o.addSelectedTracks,o.substractSelectedTracks,o.clearSelectedTracks,o.setFormTitle,o.setFormDescription,o.clearState;e.a=i.reducer},69:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a}));var c="https://api.spotify.com/v1",r=function(t){return fetch("".concat(c,"/me"),{headers:{Authorization:"Bearer "+t}}).then((function(t){return t.json()}))},i=function(t,e){return fetch("".concat(c,"/search?q=").concat(t,"&type=track&limit=10"),{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(t){return t.json()}))},o=function(t,e,n){return fetch("".concat(c,"/users/").concat(t,"/playlists"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({name:n.name,public:!1,collaborative:!1,description:n.description})}).then((function(t){return t.json()}))},a=function(t,e,n){return fetch("".concat(c,"/playlists/").concat(t,"/tracks?position=0&uris=").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({uris:n,position:0})}).then((function(t){return t.json()}))}},94:function(t,e,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.1a327cbd.chunk.js.map