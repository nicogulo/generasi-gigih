(this["webpackJsonpgenerasi-gigih-homework"]=this["webpackJsonpgenerasi-gigih-homework"]||[]).push([[4],{129:function(e,t,c){e.exports={"wrapper-track-list":"trackItem_wrapper-track-list__G0R9T","track-number":"trackItem_track-number__Y8JHv","track-image":"trackItem_track-image__2dPVe","track-title":"trackItem_track-title__3ZWve","track-artist":"trackItem_track-artist__3h9fj","track-date":"trackItem_track-date__1O0iy","track-duration":"trackItem_track-duration__2-NuJ","track-action":"trackItem_track-action__1juc8"}},130:function(e,t,c){e.exports={"wrapper-track-list":"trackSkeleton_wrapper-track-list__3N5AS",skeleton:"trackSkeleton_skeleton__Wrf3x","track-number":"trackSkeleton_track-number__3Vmhi","track-image":"trackSkeleton_track-image__1fE6h","track-title":"trackSkeleton_track-title__1jxfF","track-artist":"trackSkeleton_track-artist__1Oxe4","track-duration":"trackSkeleton_track-duration__ifk40","track-action":"trackSkeleton_track-action__ncHqH"}},146:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return A}));var a=c(4),r=c(0),n=c(112),s=c(114),i=c(148),l=c(138),j=c(116),o=c(5),d=function(e){var t=e.search,c=e.setSearch,a=e.buttonHandleSearch;return Object(o.jsxs)(n.a,{flexDir:"column",children:[Object(o.jsx)(s.a,{mt:3,mb:2,children:"Lets find something for your new playlist"}),Object(o.jsxs)(i.a,{children:[Object(o.jsx)(l.a,{id:"input-search",placeholder:"Search..",size:"md",variant:"filled",onChange:function(e){return c(e.target.value)},value:t,type:"text",mr:"5"}),Object(o.jsx)(j.a,{id:"btn-search",onClick:a,size:"md",width:"150px",children:"Search"})]})]})},b=c(16),u=function(e){var t=Math.floor(e/6e4),c=(e%6e4/1e3).toFixed(0);return"".concat(t,":").concat(c)},h=function(e){return e.length>25?e.substring(0,25)+"...":e},k=c.p+"static/media/not-found.e31c2402.jpg",O=c(129),m=c.n(O),x=function(e){var t,c,a,r=e.track,n=e.id,s=e.selectedTracks,i=e.setSelectedTracks;return Object(o.jsxs)("div",{className:m.a["wrapper-track-list"],children:[Object(o.jsx)("div",{className:m.a["track-number"],children:Object(o.jsx)("p",{children:n+1})}),Object(o.jsx)("div",{className:m.a["track-image"],children:Object(o.jsx)("img",{src:null!==(t=null===(c=r.album.images[2])||void 0===c?void 0:c.url)&&void 0!==t?t:k,alt:null===r||void 0===r?void 0:r.name,style:{width:"64px",height:"64px"}})}),Object(o.jsx)("div",{className:m.a["track-title"],children:Object(o.jsx)("p",{"data-testid":"track-name",children:h(r.name)})}),Object(o.jsx)("div",{className:m.a["track-artist"],children:Object(o.jsx)("p",{"data-testid":"track-artist",children:null===(a=r.artists[0])||void 0===a?void 0:a.name})}),Object(o.jsx)("div",{className:m.a["track-date"],children:Object(o.jsx)("p",{"data-testid":"track-date",children:r.album.release_date})}),Object(o.jsx)("div",{className:m.a["track-duration"],children:Object(o.jsx)("p",{"data-testid":"track-duration",children:u(r.duration_ms)})}),Object(o.jsx)("div",{className:m.a["track-action"],children:Object(o.jsx)("button",{onClick:function(){return function(e){var t=e;if(s.includes(t)){var c=s.filter((function(e){return e!==t}));i(c)}else i([].concat(Object(b.a)(s),[t]))}(null===r||void 0===r?void 0:r.uri)},className:m.a["btn-select"],children:s.includes(r.uri)?"Deselect":"Select"})})]})},p=function(e){var t=e.tracks,c=e.selectedTracks,a=e.setSelectedTracks;return t.map((function(e,t){return Object(o.jsx)(x,{track:e,id:t,selectedTracks:c,setSelectedTracks:a},e.id)}))},f=c(130),v=c.n(f),_=function(){return Object(o.jsxs)("div",{className:v.a["wrapper-track-list"],children:[Object(o.jsx)("div",{className:v.a["track-number"]}),Object(o.jsx)("div",{className:v.a["track-image"]}),Object(o.jsx)("div",{className:v.a["track-title"]}),Object(o.jsx)("div",{className:v.a["track-artist"]}),Object(o.jsx)("div",{className:v.a["track-duration"]}),Object(o.jsx)("div",{className:v.a["track-action"]})]})},g=c(9),S=c(77),w=c(145),y=c(123),N=c(140),C=c(141),P=function(e){var t=e.handleFormSubmit,c=e.postPlaylist,a=e.setPostPlaylist,r=e.isOpen,n=e.onClose,s=function(e){var t=e.target,r=t.name,n=t.value;a(Object(S.a)(Object(S.a)({},c),{},Object(g.a)({},r,n)))};return Object(o.jsxs)(w.a,{isOpen:r,onClose:n,children:[Object(o.jsx)(w.g,{}),Object(o.jsx)("form",{onSubmit:t,children:Object(o.jsxs)(w.d,{children:[Object(o.jsx)(w.f,{children:"Create Playlist"}),Object(o.jsx)(w.c,{}),Object(o.jsxs)(w.b,{pb:6,children:[Object(o.jsxs)(y.a,{children:[Object(o.jsx)(N.a,{children:"Playlist Name"}),Object(o.jsx)(l.a,{id:"name",name:"name",type:"text",minLength:10,value:c.name,onChange:s})]}),Object(o.jsxs)(y.a,{mt:4,children:[Object(o.jsx)(N.a,{children:"Description"}),Object(o.jsx)(C.a,{id:"description",name:"description",minLength:20,value:c.description,onChange:s})]})]}),Object(o.jsxs)(w.e,{children:[Object(o.jsx)(j.a,{type:"submit",colorScheme:"green",mr:3,onClick:n,children:"Create New Playlist"}),Object(o.jsx)(j.a,{onClick:n,children:"Cancel"})]})]})})]})},I=c(142),T=c(113),D=c(143),H=c(30),z=c(10),F=c(35),J=function(){var e=Object(z.g)(),t=Object(H.b)();return Object(o.jsxs)(n.a,{alignItems:"center",width:"100vw",children:[Object(o.jsx)(I.a,{p:"4",children:Object(o.jsx)(T.a,{as:"h3",size:"lg",color:"#fff",children:"Spotify"})}),Object(o.jsx)(D.a,{}),Object(o.jsx)(I.a,{p:"4",children:Object(o.jsx)(j.a,{size:"sm",children:"Profile"})}),Object(o.jsx)(I.a,{p:"4",children:Object(o.jsx)(j.a,{onClick:function(){t(Object(F.c)()),e.push("/")},size:"sm",children:"Logout"})})]})},L=c(32),V=c(147),W=c(132),Y=c(69),q=c(68);function A(){var e=Object(L.b)(),t=Object(V.a)(),c=t.isOpen,s=t.onOpen,i=t.onClose,l=Object(L.c)((function(e){return e.auth.accessToken})),b=Object(L.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.id})),u=Object(L.c)((function(e){return e.playlist.tracks}));console.log(b);var h=Object(r.useState)(!1),k=Object(a.a)(h,2),O=k[0],m=k[1],x=Object(r.useState)(""),f=Object(a.a)(x,2),v=f[0],g=f[1],S=Object(r.useState)([]),w=Object(a.a)(S,2),y=w[0],N=w[1],C=Object(r.useState)({name:"",description:""}),I=Object(a.a)(C,2),D=I[0],H=I[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(n.a,{w:"100%",h:"100%",minH:"100vh",flexDir:"column",children:[Object(o.jsx)(J,{}),Object(o.jsxs)(n.a,{p:"10",flexDir:"column",children:[Object(o.jsx)(T.a,{as:"h4",size:"md",children:"Search"}),Object(o.jsxs)(n.a,{flexDir:"row",alignItems:"flex-start",justifyContent:"space-between",children:[Object(o.jsx)(d,{search:v,setSearch:g,buttonHandleSearch:function(){m(!0),""===v?W.b.error("Search can't be empty"):(Object(Y.c)(v,l).then((function(t){e(Object(q.b)(t.tracks.items)),m(!1)})),g(""))}}),Object(o.jsx)(j.a,{width:200,alignSelf:"flex-end",onClick:s,colorScheme:"green",isDisabled:!(y.length>0),children:"Create Playlist"})]})]}),Object(o.jsx)(n.a,{flexDir:"column",pl:"20",pr:"20",children:O?Object(o.jsxs)("div",{children:[Object(o.jsx)(_,{}),Object(o.jsx)(_,{}),Object(o.jsx)(_,{}),Object(o.jsx)(_,{}),Object(o.jsx)(_,{})]}):Object(o.jsx)(p,{tracks:u,selectedTracks:y,setSelectedTracks:N})}),Object(o.jsx)(W.a,{position:"top-right"}),Object(o.jsx)(P,{handleFormSubmit:function(e){e.preventDefault(),y.length<=0?W.b.error("You have to selected song first"):(Object(Y.a)(b,l,D).then((function(e){return Object(Y.d)(e.id,l,y).then((function(e){return console.log(e)}))})),W.b.success("Create New Playlist Has Been Successfully."),H({name:"",description:""}),N([]))},postPlaylist:D,setPostPlaylist:H,isOpen:c,onClose:i})]})})}}}]);
//# sourceMappingURL=4.d400fb80.chunk.js.map